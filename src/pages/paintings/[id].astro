---
import Layout from "../../layouts/MainLayout.astro";
import { PAINTINGS } from "../../constants/paintings";



export function getStaticPaths() {
  const params = PAINTINGS.map((painting) => {
    return {
      params: {
        id: painting.ID,
      },
    };
  });
  
  console.log(params)
  return params
}

const lang = 'EN'
const { id } = Astro.params
const paintingData = PAINTINGS.find(p => p.ID === id)

const anim = {
  old: {
    name: "goRight",
    duration: "0.5s",
    easing: "linear",
    fillMode: "forwards",
  },
  new: {
    name: "goLeft",
    duration: "0.5s",
    easing: "linear",
    fillMode: "backwards",
  },
};

const myFade = {
  forwards: anim,
  backwards: anim,
};
---

<Layout title="Gallery">
  <main transition:animate={myFade}>
    <picture>
      <source
        srcset={paintingData?.IMAGE.PATH}
        media="(orientation: portrait)"
      />
      <img
        src={paintingData?.IMAGE.PATH}
        alt=""
        transition:name={`painting-${id}`}
      />
    </picture>
    <div>

    </div>
    <h2>{paintingData?.NAME[lang]}</h2>
    <p>{paintingData?.DESCRIPTION[lang]}</p>
  </main>
</Layout>

<style>
  main {
    max-width: 100vw;
    max-height: 90vh;
    width: auto;
    height: 100vh;
  }

  main img {
    max-width: 100%;
    max-height: 100%;
  }
</style>
